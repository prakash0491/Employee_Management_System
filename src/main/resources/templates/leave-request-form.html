<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Submit Leave Request</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
  </head>
  <body>
    <h1>Submit Leave Request</h1>
    <div th:if="${param.submitted}" class="success">Submitted Successfully</div>
    <div th:if="${noEmployees}" class="error">
      No employees found. Please add employees before submitting a leave
      request.
    </div>
    <form
      th:action="@{/admin/leave/submit}"
      th:object="${leaveRequest}"
      method="post"
      th:unless="${noEmployees}"
    >
      <div th:if="${#fields.hasErrors('*')}" class="error">
        <p th:each="err : ${#fields.errors('*')}" th:text="${err}"></p>
      </div>
      <label for="employeeId">Employee:</label>
      <select id="employeeId" name="employeeId" required>
        <option value="">Select Employee</option>
        <option
          th:each="emp : ${employees}"
          th:value="${emp.id}"
          th:text="${emp.name}"
        ></option>
      </select>
      <br /><br />
      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" th:field="*{startDate}" required />
      <br /><br />
      <label for="endDate">End Date:</label>
      <input type="date" id="endDate" th:field="*{endDate}" required />
      <br /><br />
      <label for="reason">Reason:</label>
      <textarea id="reason" th:field="*{reason}" required></textarea>
      <br /><br />
      <button type="submit" class="button">Submit Leave Request</button>
    </form>
    <a href="/admin/dashboard" class="button">Back to Admin Dashboard</a>
  </body>
</html>
